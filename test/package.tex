\newcounter{klarCall}
\newcommand{\callKlarTeXt}{%
  \immediate\write18{%
    ../target/release/klarTeXt "$(realpath \jobname.tex)"%
  }%
}

\AtBeginDocument{\callKlarTeXt}

\newenvironment{program}[1]
{%
    \newcommand{\print}[1]{{%
      ##1 = %
      \stepcounter{klarCall}%
      \input{klarTeXt_\jobname_\theklarCall.tex}%
    }} 
}
{}