\newcounter{klarCall}

\newcommand{\callKlarTeXt}{%
  \stepcounter{klarCall}%
  \immediate\write18{%
    echo "$(realpath \jobname.tex) \theklarCall" > klarTeXt_\jobname_\theklarCall.tex%
  }%
  \input{klarTeXt_\jobname_\theklarCall.tex}%
}

\newenvironment{program}[1]
{%
    \newcommand{\print}[1]{{\texttt{print}\left(##1\right)}} % use \callKlarTeXt in here
}
{}